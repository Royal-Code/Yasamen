<Project Sdk="Microsoft.NET.Sdk.Razor">

	<Import Project="..\pack.targets" />

	<PropertyGroup>
		<TargetFramework>$(RuntimeVer)</TargetFramework>
		<RootNamespace>RoyalCode.Razor</RootNamespace>
	</PropertyGroup>

	<ItemGroup>
		<SupportedPlatform Include="browser" />
	</ItemGroup>

	<ItemGroup>
		<PackageReference Include="Microsoft.AspNetCore.Components.Web" Version="$(AspNetVer)" />
	</ItemGroup>

	<!--For production builds, build tw, min, bundle -->
	<Target Name="PreBuild" BeforeTargets="PreBuildEvent" Condition="'$(Configuration)' == 'Release'">
		<Exec Command="bun run build:tw:css" />
		<Exec Command="bun run build:tw:css:min" />
		<Exec Command="bun run bundle:css" />
	</Target>
	<!--For debug builds, build tw only -->
	<Target Name="PreBuildDebug" BeforeTargets="PreBuildEvent" Condition="'$(Configuration)' == 'Debug'">
		<Exec Command="bun run build:tw:css" />
	</Target>
	
</Project>
